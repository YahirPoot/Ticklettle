<div class="p-8 max-w-4xl mx-auto w-full min-h-screen text-base-content">
    
    <shared-header-back [title]="'Historial de Transacciones'" (back)="goBack()"/>
    <div class="bg-base-200 rounded-xl shadow-lg border border-primary/20 divide-y divide-primary/20">

        @for (item of transactions; track $index) {
            <div class="p-4 sm:p-5 flex items-center justify-between hover:bg-base-100 transition-colors duration-150 cursor-default">
                
                <div class="flex items-center gap-4">
                    <div class="w-10 h-10 flex items-center justify-center rounded-full bg-indigo-50 text-primary shrink-0">
                        <mat-icon>{{ getIconName(item) }}</mat-icon>
                    </div>
                    
                    <div class="flex flex-col">
                        <span class="text-base font-medium ">{{ item.description }}</span>
                        <span class="text-xs text-gray-500 flex items-center gap-2">
                            {{ item.date | date: 'dd/MM/yyyy h:mm a' }} 
                            
                            <span 
                                [ngClass]="{
                                    'text-green-600 bg-green-50': item.status === 'completed',
                                    'text-yellow-600 bg-yellow-50': item.status === 'pending',
                                    'text-red-600 bg-red-50': item.status === 'failed'
                                }"
                                class="px-2 py-0.5 rounded-full text-xs font-semibold uppercase">
                                {{ item.status }}
                            </span>
                        </span>
                    </div>
                </div>
    
                <div class="text-right shrink-0">
                    <span 
                        [ngClass]="getAmountClass(item)"
                        class="text-lg font-semibold block">
                        {{ item.type === 'purchase' || item.status === 'failed' ? '-' : '+' }}{{ item.amount | currency: item.currency }}
                    </span>
                </div>
            </div>
        }

        @if (transactions.length) {
            <div *ngIf="!transactions.length" class="p-8 text-center text-warning/40">
                AÃºn no tienes transacciones en tu historial.
            </div>
        }
    </div>
</div>