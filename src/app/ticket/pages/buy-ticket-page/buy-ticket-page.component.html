<div class="min-h-screen w-full p-4 flex items-center justify-center">
    <div class="w-full max-w-6xl h-[calc(100vh-2rem)] grid grid-cols-1 md:grid-cols-2 gap-6 items-start">
        <!-- LEFT: imagen + info (centrado verticalmente) -->
        <div class="flex flex-col gap-4 p-2 h-full">
            <div class="card bg-base-200 shadow-sm flex-1 flex items-center justify-center overflow-hidden rounded-lg">
                <figure class="w-full h-full flex items-center justify-center">
                    <img [src]="event?.image" [alt]="event?.title" class="w-full h-full object-cover" />
                </figure>
            </div>
        </div>

        <!-- RIGHT: panel de compra (centrado verticalmente) -->
        <aside class="flex flex-col gap-4 h-full">
            <form [formGroup]="formBuyTicket" (ngSubmit)="onSubmit()" class="p-2 rounded-lg shadow-md grid grid-cols-1 md:grid-cols-1 h-full">
                    <div class="card bg-base-200 p-2">
                        <label class="text-sm font-medium mb-2 block">Selecciona la sección</label>
                        <div class="space-y-2 max-h-44 sm:max-h-56 overflow-auto pr-1">
                            @for (zone of zones; track zone.id) {
                                <button
                                    type="button"
                                    class="w-full text-left p-2 rounded-lg border transition flex items-center justify-between text-sm hover:border-primary group"
                                    [class.border-primary]="selectedZoneValue?.id === zone.id"
                                    [class.bg-base-200]="selectedZoneValue?.id === zone.id"
                                    (click)="selectZone(zone)"
                                    [attr.aria-pressed]="selectedZoneValue?.id === zone.id"
                                >
                                    <div class="min-w-0">
                                        <div class="font-medium truncate">{{ zone.name }}</div>
                                        <div class="text-xs text-neutral/70 truncate">{{ zone.type }}</div>
                                    </div>
                                    <div class="text-sm font-semibold ml-3">${{ zone.price }}</div>
                                </button>
                            }
                        </div>
                    </div>
                    <div class="mt-4">
                        <div class="card bg-base-200 p-3 rounded-lg shadow-sm">
                            <h4 class="font-semibold mb-2">Información adicional</h4>
                            <p class="text-sm text-neutral/80 mb-2">Descripción: {{ event?.description }}</p>
                            <p class="text-sm text-neutral/80">Políticas y detalles del evento disponibles en la página del organizador.</p>
                        </div>
                    </div>
    
                    <div class="mt-4">
                        <div class="card flex flex-row items-center justify-between mb-1 bg-base-200 p-1 rounded-lg ">
                            <p class="text-base pl-2">Comprar boletos</p>
                            <div class="flex items-center gap-2">
                                <button
                                [disabled]="selectedTicketsValue! === null" 
                                class="btn font-bold btn-lg" (click)="decreaseTickets()">-</button>
                                <span class="text-base badge badge-outline badge-secondary">{{ selectedTicketsValue }}</span>
                                <button
                                    [disabled]="selectedZoneValue! === null" 
                                    class="btn font-bold btn-lg" (click)="increaseTickets()">+</button>
                            </div>
                        </div>
    
                        <div class="flex items-center justify-end mb-3">
                            <div class="font-semibold">Total: ${{ totalPrice }}</div>
                        </div>
                        @if (selectedTicketsValue === 5) {
                            <span class="text-sm text-warning text-center">
                                Haz alcanzado el máximo de boletos por compra.
                            </span>
                        }
                        <button type="submit" class="btn btn-neutral btn-lg w-full">
                            Pagar
                        </button>
                    </div>
            </form>
        
        
        </aside>
    </div>
</div>