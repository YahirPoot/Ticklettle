<div class="min-h-screen flex items-center justify-center p-6">
  <div class="max-w-3xl w-full bg-base-200 rounded-lg shadow-md p-6">
    <div class="flex items-start justify-between gap-4">
      <div class="flex flex-col items-start">
        <h2 class="text-2xl font-semibold text-primary ">Pago realizado</h2>
          <span class="text-base-content/70">Orden <span class="text-base-content">{{ saleById?.orderNumber }}</span></span>
      </div>
      <div class="text-right">
        <div class="text-sm text-base-content/35">Estado</div>
        <div class="badge badge-primary text-lg">{{ saleById?.payment?.status }}</div>
      </div>
    </div>

    <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="p-4 border rounded">
        <div class="text-sm text-base-content uppercase">Resumen</div>
        <div class="mt-2">
          <div class="text-sm text-base-content/70">Venta ID</div>
          <div class="font-medium text-base-content">{{ saleById?.saleId || '—' }}</div>

          <div class="mt-3 text-sm text-base-content/70">Comprador (attendee)</div>
          <div class="font-medium text-base-content">{{ saleById?.attendeeId || '—' }}</div>

          <div class="mt-3 text-sm text-base-content/70">Fecha</div>
          <div class="font-medium text-base-content">{{ saleById?.createdAt | date:'medium' }}</div>
        </div>
      </div>

      <div class="p-4 border rounded bg-primary/5 flex flex-col items-start gap-3">
        <div>
          <div class="text-sm text-base-content/70">Total pagado</div>
          <div class="mt-1 text-xl font-bold text-primary">{{ formatted(saleById?.totalAmount!) }}</div>
        </div>
        <div>
          <div class="mt-3 text-sm text-base-content/70">Método / Pago</div>
          <div class="font-medium text-base-content break-words">{{ saleById?.payment?.status }}</div>
        </div>
        <div class="text-sm text-base-content/70 mt-1">Monto: {{ formatted(saleById?.payment?.amount!) }}</div>
        <!-- <div class="text-sm text-base-content/70">Fecha pago: {{ saleById?.payment?.createdAt | date:'medium' }}</div> -->
      </div>
    </div>

    <div class="mt-6">
        <h4 class="text-sm font-medium text-primary mb-2">Items</h4>
        <ul class="divide-y">
            @for (it of saleById?.items; track $index) {
                <li class="card py-3 flex flex-row justify-between items-center bg-base-100 p-4">

                    <div>
                        <div class="text-sm font-medium text-base-content uppercase">{{ it.itemName }}</div>
                        <div class="text-xs text-base-content/70">Tipo: <span class="uppercase text-base-content">{{ it.type }}</span></div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm text-base-content/70">Cantidad: <span class="text-base-content">{{ it.quantity }}</span></div>
                        <div class="font-semibold text-primary">{{ formatted(it.totalPrice || (it.unitPrice * it.quantity)) }}</div>
                    </div>
                </li>
            }
        </ul>
    </div>

    <div class="mt-6 flex gap-3">
      <a [routerLink]="['/', 'tickets']" class="btn btn-primary">Ver orden</a>
    </div>
  </div>
</div>